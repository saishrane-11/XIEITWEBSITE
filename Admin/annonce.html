<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="keywords" content="HTML5 Template" />
    <meta name="description" content="IT Department - Login Page" />
    <meta name="author" content="potenzaglobalsolutions.com" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>IT Department - Annoucements</title>

    <!-- Favicon -->
    <link rel="shortcut icon" href="../images/favicon.ico" />

    <!-- Google Font -->
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200&display=swap"
        rel="stylesheet">

    <!-- CSS Global Compulsory (Do not remove)-->
    <link rel="stylesheet" href="../css/font-awesome/all.min.css" />
    <link rel="stylesheet" href="../css/flaticon/flaticon.css" />
    <link rel="stylesheet" href="../css/bootstrap/bootstrap.min.css" />

    <!-- Page CSS Implementing Plugins (Remove the plugin CSS here if site does not use that feature)-->

    <!-- Template Style -->
    <link rel="stylesheet" href="../css/style.css" />

    <style>
        input {
            width: 50%;
            padding: 10px;
            margin-bottom: 10px;
            font-size: 16px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
            text-align: center;
        }

        input:focus {
            border-color: #80bdff;
            outline: 0;
            box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
        }

        select {
            width: 50%;
            padding: 10px;
            margin-bottom: 10px;
            font-size: 16px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        }

        select:focus {
            border-color: #80bdff;
            outline: 0;
            box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
        }

        #submit {
            background-color: #3e4095;
            color: #ffffff;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            font-weight: bold;
        }
    </style>
</head>

<body>

    <!--=================================
    Header -->
    <header class="header header-sticky">
        <div class="topbar bg-dark py-3 d-none d-lg-flex">
            <div class="container">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="d-none d-lg-flex align-items-center text-center">
                            <div class="mr-3 d-inline-block">
                                <a class="text-white" href="mailto:gethelp@university.com"><i
                                        class="far fa-envelope mr-2"></i><span>Email:</span> info@xavier.com</a>
                            </div>
                            <div class="mr-auto d-inline-block">
                                <a class="text-white" href="mailto:gethelp@university.com"><i
                                        class="fas fa-phone-alt mr-2"></i><span>Call</span> 9876543210</a>
                            </div>
                            <div class="mr-3 d-inline-block">
                                <a class="text-white" href="mailto:gethelp@university.com"><i
                                        class="far fa-clock mr-2"></i><span>Opening:</span> 10:00am - 5:00pm</a>
                            </div>
                            <div class="social-icon">
                                <ul class="social-icon">
                                    <li>
                                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                                    </li>
                                    <li>
                                        <a href="#"><i class="fab fa-twitter"></i></a>
                                    </li>
                                    <li>
                                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                                    </li>
                                    <li>
                                        <a href="#"><i class="fab fa-instagram"></i></a>
                                    </li>
                                </ul>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!--=================================
    Header -->

    <!--=================================
    inner-header -->
    <section class="inner-banner bg-overlay-black-70 bg-holder" style="background-image: url('../images/login.jpg');">
        <div class="container">
            <div class="row d-flex justify-content-center">
                <div class="col-md-12">
                    <div class="text-center">
                        <h1 class="text-white">Annoucements</h1>
                    </div>
                    <div class="d-flex justify-content-center ">
                        <ol class="breadcrumb mb-0 p-0">
                            <li class="breadcrumb-item"><a href="../index.html">Home</a></li>
                            <li class="breadcrumb-item active"><span>Anouncements</span></li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--=================================
    inner-header -->
    <br><br><br>

    <body>

        <body style="text-align: center;">
            <h4 style="text-align: left; padding-left: 369px;">Enter the Announcement Details</h4>
            <br>
            <h6 style="text-align: left; padding-left: 369px;">Heading</h6>
            <input type="text" name="" id="heading">
            <h6 style="text-align: left; padding-left: 369px;">Annoucements</h6>
            <input type="text" name="" id="announce">
            <br><br>
            <input type="submit" value="Submit" id="submit" onclick="Annoucements()">
            <div id="displayAnnouncement">

                <div style="width: 100%; height: auto; display: flex;align-items: center;justify-content: center;">
                    <div style="width: 80%;height: auto">
                        <table border="1" style="width: 100%;">
                            <thead>
                                <tr>
                                    <th>Announcement NAME</th>
                                    <th>Annoucement</th>
                                    <th>UPLOAD DATE</th>
                                    <th>DELETE</th>
                                    <!-- It should be encrypted -->
                                </tr>
                            </thead>

                            <tbody id="tableBody">

                            </tbody>


                        </table>
                    </div>
                </div>

            </div>
            <script src="https://www.gstatic.com/firebasejs/8.4.2/firebase.js"></script>
            <script src="../config.js"></script>
            <script>
                firebase.database().ref("Announcement/").on("value", function (snap) {
                    var demo = snap.val();
                    // var root = document.getElementById('displayAnnouncement');
                    // console.log(demo);
                    // var main = document.createElement('div');
                    let table = document.getElementById("tableBody");
                    console.log(demo);

                    for (var key in demo) {
                        console.log(key+"key")
                        firebase.database().ref("Announcement/" + key).on("value", function (snapshot) {
                            var demo2 = snapshot.val();
                            // Create row element

                            console.log("there is demo2")
                            console.log(demo2)


                            let row = document.createElement("tr")

                            dateV = new Date();
                            dt = dateV.getDate() + "-" + dateV.getMonth() + "-" + dateV.getFullYear();
                            // Create cells
                            let c0 = document.createElement("td")
                            let c1 = document.createElement("td")
                            let c2 = document.createElement("td")
                            let c3 = document.createElement("td")
                            c1.innerText = demo2.ancm;
                            c0.innerText = demo2.name;
                            
                            c2.innerText = dt;

                            let img = document.createElement('img');
                            img.src = 'dustbin.png';
                            img.style.height = '16px';
                            img.style.width = '16px';
                            c3.append(img);
                            c3.style.cursor = 'pointer';
                            c3.setAttribute("id", demo2.name);
                            c3.onclick = () => {
                                console.log("-------------------------")
                                var idv = c3.id;

                                firebase.database().ref("Announcement/" + idv).remove(

                                );
                                alert("Deleted")
                            }

                            row.appendChild(c0);
                            row.appendChild(c1);
                            row.appendChild(c2);
                            row.appendChild(c3);

                            // Append row to table body
                            table.appendChild(row)
                        })
                    }


                    // for (let key in demo) {
                    //     console.log(demo[key]);
                    //     let d = document.createElement('div');
                    //     d.innerHTML = demo[key].ancm;
                    //     root.appendChild(d);

                    // }
                
                });
            </script>
            <script>
                function Annoucements() {
                    console.log("called");
                    var heading = document.getElementById('heading').value;
                    var a = document.getElementById('announce').value;
                    firebase.database().ref("Announcement/" + heading).set(
                        {
                            name: heading,
                            ancm: a,
                        }

                    );
                    alert("done");
                }
            </script>
        </body>
        <br><br><br>
        <!--=================================
    Footer-->
        <footer>
            <div class="footer-bottom bg-dark py-4">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-lg-12 text">
                            <p class="mb-0 text-white">Â© Copyright 2024 Xavier Institute of Engineering | IT
                                Department.<a href="../index.html"></a> All
                                Rights Reserved</p>
                        </div>
                        <div class="social-icon social-icon-style-02 ml-auto">
                            <ul>
                                <li><a href="#"><i class="fab fa-facebook-f"></i></a></li>
                                <li><a href="#"><i class="fab fa-twitter"></i></a></li>
                                <li><a href="#"><i class="fab fa-linkedin-in"></i></a></li>
                                <li><a href="#"><i class="fab fa-instagram"></i></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </footer>


        <!--=================================
    Footer-->

        <!--=================================
    Back To Top-->
        <div id="back-to-top" class="back-to-top">up</div>
        <!--=================================
    Back To Top-->

        <!--=================================
    Javascript -->

        <!-- JS Global Compulsory (Do not remove)-->
        <script src="../js/jquery-3.5.1.min.js"></script>
        <script src="../js/popper/popper.min.js"></script>
        <script src="../js/bootstrap/bootstrap.min.js"></script>

        <!-- Page JS Implementing Plugins (Remove the plugin script here if site does not use that feature)-->
        <script src="../js/jquery.appear.js"></script>

        <!-- Template Scripts (Do not remove)-->
        <script src="../js/custom.js"></script>


</html>