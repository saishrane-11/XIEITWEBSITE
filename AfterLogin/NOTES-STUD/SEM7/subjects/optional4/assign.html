<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="keywords" content="HTML5 Template" />
    <meta name="description" content="IT Department - Login Page" />
    <meta name="author" content="potenzaglobalsolutions.com" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>IT Department - Notes</title>

    <!-- Favicon -->
    <link rel="shortcut icon" href="../images/favicon.ico" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Google Font -->
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200&display=swap"
        rel="stylesheet">

        <meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- CSS Global Compulsory (Do not remove)-->
    <link rel="stylesheet" href="../css/font-awesome/all.min.css" />
    <link rel="stylesheet" href="../css/flaticon/flaticon.css" />
    <link rel="stylesheet" href="../css/bootstrap/bootstrap.min.css" />

    <!-- Page CSS Implementing Plugins (Remove the plugin CSS here if site does not use that feature)-->

    <!-- Template Style -->
    <link rel="stylesheet" href="../css/style.css" />

    <style>
        /* Styles for input[type="email"] */
        input[type="text"] {
            width: 30%;
            padding: 10px;
            margin-bottom: 10px;
            font-size: 16px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
            text-align: center;
        }

        /* Focus styles for input[type="email"] */
        input[type="text"]:focus {
            border-color: #80bdff;
            outline: 0;
            box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
        }

        /* Styles for button */
        button {
            display: block;
            margin: 20px 0 0 20px;
            margin-bottom: 20px;
            margin-left: 365px;
            font-weight: 400;
            color: #fff;
            /* vertical-align: middle; */
            user-select: none;
            background-color: #3e4095;
            border: 1px solid transparent;
            padding: 10px 20px;
            font-size: 16px;
            line-height: 1.5;
            border-radius: 4px;
            transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        }

        /* Hover styles for button */
        button:hover {
            background-color: #0056b3;
            border-color: #0056b3;
        }
    </style>

</head>

<body>

    <!--=================================
    Header -->
    <header class="header header-sticky">
        <div class="topbar bg-dark py-3 d-none d-lg-flex">
            <div class="container">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="d-none d-lg-flex align-items-center text-center">
                            <div class="mr-3 d-inline-block">
                                <a class="text-white" href="mailto:gethelp@university.com"><i
                                        class="far fa-envelope mr-2"></i><span>Email:</span> info@xavier.com</a>
                            </div>
                            <div class="mr-auto d-inline-block">
                                <a class="text-white" href="mailto:gethelp@university.com"><i
                                        class="fas fa-phone-alt mr-2"></i><span>Call</span> 9884324324</a>
                            </div>
                            <div class="mr-3 d-inline-block">
                                <a class="text-white" href="mailto:gethelp@university.com"><i
                                        class="far fa-clock mr-2"></i><span>Opening:</span> 10:00am - 5:00pm</a>
                            </div>
                            <div class="social-icon">
                                <ul class="social-icon">
                                    <li>
                                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                                    </li>
                                    <li>
                                        <a href="#"><i class="fab fa-twitter"></i></a>
                                    </li>
                                    <li>
                                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                                    </li>
                                    <li>
                                        <a href="#"><i class="fab fa-instagram"></i></a>
                                    </li>
                                </ul>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!--=================================
    Header -->

    <!--=================================
    inner-header -->
    <section class="inner-banner bg-overlay-black-70 bg-holder" style="background-image: url('../images/login.jpg');">
        <div class="container">
            <div class="row d-flex justify-content-center">
                <div class="col-md-12">
                    <div class="text-center">
                        <h1 class="text-white">ASSIGNMENTS</h1>
                    </div>
                    <div class="d-flex justify-content-center ">
                        <ol class="breadcrumb mb-0 p-0">
                            <li class="breadcrumb-item"><a href="../index.html">Home</a></li>
                            <li class="breadcrumb-item active"><span>ASSIGNMENTS</span></li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--=================================
    inner-header -->

    <br><br><br><br>

    <body style="text-align: center;">
       
        <h6>Below it should display the added files</h6>

        <!-- ThisOne -->
        <div style="width: 100%; height: auto; display: flex;align-items: center;justify-content: center;">
            <div style="width: 80%;height: auto">
                <table border="1" style="width: 100%;">
                    <thead>
                        <tr>
                            <th>PDF NAME</th>
                            <th>PDF URL</th>
                            <th>UPLOAD DATE</th>
                            <!-- It should be encrypted -->
                        </tr>
                    </thead>
        
                    <tbody id="tableBody">
        
                    </tbody>
        
        
                </table>
            </div>
        </div>
        


        <script src="https://www.gstatic.com/firebasejs/8.4.2/firebase.js"></script>
        <script src="../config.js"></script>
    </body>

    <br><br><br><br>

    <!--=================================
    Footer-->
    <footer>
        <div class="footer-bottom bg-dark py-4">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-12 text">
                        <p class="mb-0 text-white">Â© Copyright 2024 Xavier Institute of Engineering | IT Department.<a
                                href="../index.html"></a> All
                            Rights Reserved</p>
                    </div>
                    <div class="social-icon social-icon-style-02 ml-auto">
                        <ul>
                            <li><a href="#"><i class="fab fa-facebook-f"></i></a></li>
                            <li><a href="#"><i class="fab fa-twitter"></i></a></li>
                            <li><a href="#"><i class="fab fa-linkedin-in"></i></a></li>
                            <li><a href="#"><i class="fab fa-instagram"></i></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </footer>


    <!--=================================
    Footer-->

    <!--=================================
    Back To Top-->
    <div id="back-to-top" class="back-to-top">up</div>
    <!--=================================
    Back To Top-->

    <!--=================================
    Javascript -->

    <!-- JS Global Compulsory (Do not remove)-->
    <script src="../js/jquery-3.5.1.min.js"></script>
    <script src="../js/popper/popper.min.js"></script>
    <script src="../js/bootstrap/bootstrap.min.js"></script>

    <!-- Page JS Implementing Plugins (Remove the plugin script here if site does not use that feature)-->
    <script src="../js/jquery.appear.js"></script>

    <!-- Template Scripts (Do not remove)-->
    <script src="../js/custom.js"></script>





    <script src="https://www.gstatic.com/firebasejs/8.4.2/firebase.js"></script>
    <script src="../config.js"></script>
    <!-- <script>
        const emailIsValid = (email) => {
            return /[\S]+@(student.xavier.ac.in)/.test(email)
        }
        $('#btn').click(function (e) {
            e.preventDefault();
            // Code goes here
            InsertData(); // your onclick function call here

        });

        function InsertData() {
            var email = document.getElementById('exampleInputEmail1').value;
            console.log(email)
            var password = document.getElementById('exampleInputPassword1').value;
            console.log(password)
            fullName = "rakesh";
            contact = "23424242342"
            idV = email.slice(0, 9);
            console.log(idV)
            if (emailIsValid(email)) {
                // window.location.href = './adminlogin.html';
                console.log("valid email")

                firebase.database().ref("students/IT/TE/" + idV).on("value", function (snap) {
                    var demo = snap.val();
                    if (demo == null) {
                        alert("your details doesn't match records please contact HOD");

                    } else {
                        if (email == demo.EMAIL) {
                            if (password == demo.PASSWORD) {
                                alert("Login successful");
                                window.location.href = "../AfterLogin/index.html";
                            } else {
                                alert("Invalid details");
                            }
                        } else {
                            alert("Invalid data")
                        }

                    }

                }
                );
            } else {

                console.log("not valid");
            }

        }
    </script> -->




    <script>

        function insertRecord() {

            const ref = firebase.storage().ref("NOTES/IT/SE/SEM7/DOP4/ASSIGNMENTS/");
            const file = document.querySelector("#file").files[0];
            const name = document.getElementById('name').value;
            // console.log(check(name)+ 'this is the res');
            // check(name)

            dateV = new Date();
            dt = dateV.getDate() + "-" + dateV.getMonth() + "-" + dateV.getFullYear();
            console.log(dt);
            console.log(name);
            const metadata = {
                contentType: file.type
            }
            const task = ref.child(name).put(file, metadata);
            task.then(snapshot => snapshot.ref.getDownloadURL()).then(url => {
                console.log(url);
                var a = 2;
                alert("pdf uploaded");
                firebase.database().ref("NOTES-URL/IT/SE/SEM7/DOP4/ASSIGNMENTS/" + name).set(
                    {
                        pdfname: name,
                        pdfurl: url,
                        date: dt
                    });

            })
        }
    </script>
    <script src="https://www.gstatic.com/firebasejs/8.4.2/firebase.js"></script>
    <script src="../../../../config.js"></script>

    <!-- ThisOne -->
    <script>
        // NOTES-URL/IT/SE/SEM7/DOP4/ASSIGNMENTS/

        firebase.database().ref("NOTES-URL/IT/SE/SEM7/DOP4/ASSIGNMENTS/").on("value", function (snap) {
            var demo = snap.val();
            var main = document.getElementById('mat');
            console.log(demo);
            var obj = demo;
            console.log("object");
            // console.log(obj);
            let table = document.getElementById("tableBody");
            for (var key in demo) {
                // console.log(key);
                // var root = document.createElement('div');

                // let c4 = document.createElement("td")
                // let c5 = document.createElement("td")
                firebase.database().ref("NOTES-URL/IT/SE/SEM7/DOP4/ASSIGNMENTS/" + key).on("value", function (snapshot) {
                    var demo2 = snapshot.val();
                    // Create row element
                    console.log("there is demo2")
                    console.log(demo2)
                    let row = document.createElement("tr")

                    // Create cells
                    let c0 = document.createElement("td")
                    let c1 = document.createElement("td")
                    let c2 = document.createElement("td")
                    let a = document.createElement('a');
                    a.href = demo2.pdfurl;
                    a.innerText = 'view';
                    c0.innerText = demo2.pdfname;
                    let img = document.createElement('img');
                    img.src ='../../../../dustbin.png';
                    img.style.height='16px';
                    img.style.width = '16px';
                    c1.append(a);
                    c2.innerText = demo2.date;
                   
                    // Append cells to row
                    row.appendChild(c0);
                    row.appendChild(c1);
                    row.appendChild(c2);
                    
                    // Append row to table body
                    table.appendChild(row)
                })
            }

        })
    </script>
</body>

</html>